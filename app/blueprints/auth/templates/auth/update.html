{% extends 'base.html' %}
{% block title %}Edit Profile{% endblock %}

{% block page_content %}
    <div class="container">
        <div class="edit_card">
            <h1 class="edit_header">Edit Profile</h1>
            <div class="update">

                <form method="POST" novalidate>
                    {{ form.hidden_tag() }}

                    {{ form.password.label(class="form-label") }} {{ form.password (class="form-control form-control-sm",
                                                                                            id="PasswordInput") }}
                    {% for error in form.password.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}

                    {{ form.new_password.label(class="form-label") }} {{ form.new_password (class="form-control form-control-sm",
                                                                                            id="NewPasswordInput") }}
                    {% for error in form.new_password.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}

                    {{ form.repeat_password.label(class="form-label") }} {{ form.repeat_password (class="form-control form-control-sm",
                                                                                            id="RepeatPasswordInput") }}
                    {% for error in form.repeat_password.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}

                    {{ form.first_name.label(class="form-label") }} {{ form.first_name (class="form-control form-control-sm", value=current_user.first_name,
                                                                                            id="FirstNameInput") }}
                    {% for error in form.first_name.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}

                    {{ form.country.label(class="form-label") }} {{ form.country (class="form-control form-control-sm", value=current_user.country,
                                                                                            id="CountryInput") }}
                    {% for error in form.country.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}
                    {{ form.update_button(class="btn btn-primary btn-block") }}

                </form>
            </div>
            <div class="random_avatar">
                <form method="POST" novalidate>
                    {{ rform.hidden_tag() }}

                    {% if random_avatar %}
                        <img src="https://robohash.org/{{ random_avatar }}/set_set{{ random_figure }}/3.14159?size=400x500"
                             alt="Default Avatar" width="200" height="250" id="center">
                    {% else %}
                        <img src="{{ current_user.avatar }}" alt="Default Avatar" width="200" height="250" id="center">
                    {% endif %}

                    {{ rform.random_button(class="btn btn-primary btn-block") }}
                </form>
            </div>


        </div>

    </div>
{% endblock %}

